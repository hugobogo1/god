<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Person Shooting Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: #000;
            font-family: Arial, sans-serif;
        }

        #gameContainer {
            position: relative;
            width: 800px;
            height: 600px;
            background: linear-gradient(to bottom, #1a1a2e, #000);
            border: 3px solid #444;
            overflow: hidden;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.3);
        }

        #gameField {
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, #333 0%, #000 100%);
        }

        .enemy {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle at 30% 30%, #FF4444, #BB0000);
            border-radius: 50%;
            border: 3px solid #FF0000;
            box-shadow: 0 0 20px #FF0000;
        }

        .muzzleFlash {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, #FFFF00, #FF9900, transparent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 50;
            opacity: 0.8;
        }

        #crosshair {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            z-index: 100;
            pointer-events: none;
        }

        .crosshair-line {
            position: absolute;
            background: #00FF00;
        }

        .crosshair-h {
            width: 15px;
            height: 2px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .crosshair-v {
            width: 2px;
            height: 15px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .dot {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #00FF00;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #score {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 24px;
            color: #00FF00;
            font-weight: bold;
            z-index: 100;
            text-shadow: 0 0 10px #00FF00;
        }

        #health {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            color: #FF0000;
            font-weight: bold;
            z-index: 100;
            text-shadow: 0 0 10px #FF0000;
        }

        #ammo {
            position: absolute;
            bottom: 20px;
            right: 20px;
            font-size: 20px;
            color: #FFD700;
            font-weight: bold;
            z-index: 100;
            text-shadow: 0 0 10px #FFD700;
        }

        #gameOver {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.95);
            color: #00FF00;
            padding: 40px;
            border-radius: 10px;
            text-align: center;
            display: none;
            z-index: 200;
            min-width: 300px;
            border: 3px solid #00FF00;
            box-shadow: 0 0 20px #00FF00;
        }

        #gameOver h1 {
            font-size: 48px;
            margin-bottom: 20px;
            color: #FF0000;
        }

        #gameOver p {
            font-size: 24px;
            margin-bottom: 20px;
            color: #00FF00;
        }

        #gameOver button {
            padding: 10px 30px;
            font-size: 20px;
            background: #00FF00;
            color: #000;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: bold;
        }

        #gameOver button:hover {
            background: #00FFFF;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div id="gameField"></div>
        <div id="score">Score: 0</div>
        <div id="health">Health: 3</div>
        <div id="ammo">Ammo: âˆž</div>
        <div id="crosshair">
            <div class="crosshair-line crosshair-h"></div>
            <div class="crosshair-line crosshair-v"></div>
            <div class="dot"></div>
        </div>
        <div id="gameOver">
            <h1>GAME OVER</h1>
            <p id="finalScore">Final Score: 0</p>
            <button onclick="location.reload()">Play Again</button>
        </div>
    </div>

    <script>
        const gameContainer = document.getElementById('gameContainer');
        const gameField = document.getElementById('gameField');
        const scoreDisplay = document.getElementById('score');
        const healthDisplay = document.getElementById('health');
        const gameOverScreen = document.getElementById('gameOver');
        const finalScoreDisplay = document.getElementById('finalScore');

        const CONTAINER_WIDTH = 800;
        const CONTAINER_HEIGHT = 600;
        const MAX_DEPTH = 800;
        const MIN_SIZE = 10;
        const MAX_SIZE = 100;

        let score = 0;
        let health = 3;
        let gameActive = true;
        let enemies = [];
        let lastShot = 0;

        // Mouse position
        let mouseX = CONTAINER_WIDTH / 2;
        let mouseY = CONTAINER_HEIGHT / 2;

        // Mouse tracking
        document.addEventListener('mousemove', (e) => {
            const rect = gameContainer.getBoundingClientRect();
            mouseX = e.clientX - rect.left;
            mouseY = e.clientY - rect.top;
        });

        // Shooting
        document.addEventListener('click', () => {
            if (gameActive) shoot();
        });

        function shoot() {
            if (!gameActive || Date.now() - lastShot < 100) return;
            lastShot = Date.now();
            createMuzzleFlash();
            checkHits();
        }

        function createMuzzleFlash() {
            const flash = document.createElement('div');
            flash.className = 'muzzleFlash';
            gameField.appendChild(flash);
            setTimeout(() => flash.remove(), 50);
        }

        function spawnEnemy() {
            if (!gameActive) return;
            const depth = MAX_DEPTH;
            const screenX = Math.random() * (CONTAINER_WIDTH - 40);
            const screenY = Math.random() * (CONTAINER_HEIGHT * 0.7);
            
            const enemy = {
                depth: depth,
                screenX: screenX,
                screenY: screenY,
                speed: 3 + Math.random() * 2,
                size: MAX_SIZE,
                health: 1,
                element: null
            };
            
            enemies.push(enemy);
            renderEnemy(enemy, enemies.length - 1);
        }

        function renderEnemy(enemy, index) {
            if (!enemy.element) {
                enemy.element = document.createElement('div');
                enemy.element.className = 'enemy';
                enemy.element.setAttribute('data-enemy-id', index);
                gameField.appendChild(enemy.element);
            }

            const size = MAX_SIZE * (1 - enemy.depth / MAX_DEPTH) + MIN_SIZE;
            enemy.element.style.width = size + 'px';
            enemy.element.style.height = size + 'px';
            enemy.element.style.left = (enemy.screenX - size / 2) + 'px';
            enemy.element.style.top = (enemy.screenY - size / 2) + 'px';
            
            const opacity = 1 - enemy.depth / MAX_DEPTH;
            enemy.element.style.opacity = Math.max(0.2, opacity);
        }

        function updateEnemies() {
            for (let i = enemies.length - 1; i >= 0; i--) {
                const enemy = enemies[i];
                enemy.depth -= enemy.speed;

                if (enemy.depth <= 0) {
                    if (enemy.element) enemy.element.remove();
                    enemies.splice(i, 1);
                    health--;
                    healthDisplay.textContent = 'Health: ' + health;
                    if (health <= 0) gameOver();
                } else {
                    renderEnemy(enemy, i);
                }
            }
        }

        function checkHits() {
            for (let i = enemies.length - 1; i >= 0; i--) {
                const enemy = enemies[i];
                const size = MAX_SIZE * (1 - enemy.depth / MAX_DEPTH) + MIN_SIZE;
                const enemyX = enemy.screenX;
                const enemyY = enemy.screenY;

                const dx = mouseX - enemyX;
                const dy = mouseY - enemyY;
                const distance = Math.sqrt(dx * dx + dy * dy);

                if (distance < size / 2) {
                    if (enemy.element) enemy.element.remove();
                    enemies.splice(i, 1);
                    score += 10 + Math.floor(enemy.depth / 50);
                    scoreDisplay.textContent = 'Score: ' + score;
                }
            }
        }

        function gameOver() {
            gameActive = false;
            gameOverScreen.style.display = 'block';
            finalScoreDisplay.textContent = 'Final Score: ' + score;
        }

        function update() {
            if (!gameActive) return;
            updateEnemies();
        }

        // Spawn enemies periodically - faster as score increases
        setInterval(() => {
            if (gameActive) spawnEnemy();
        }, 1200 - Math.min(score / 30, 600));

        // Game loop at 60 FPS
        setInterval(update, 1000 / 60);
    </script>
</body>
</html>
